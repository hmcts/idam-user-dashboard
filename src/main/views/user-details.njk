{% from "govuk/components/summary-list/macro.njk" import govukSummaryList %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "macros/breadcrumb.njk" import breadcrumb %}

{% extends "template.njk" %}

{% block beforeContent %}
  {{ super() }}
  {{ breadcrumb([
    ['Manage users', '/manage-users'],
    ['User details']
  ]) }}
{% endblock %}

{% block content %}
  <h1 class="govuk-heading-l">User Details</h1>
  {{ govukButton({
    text: "Delete user",
    classes: "govuk-button--warning"
  }) }}
  <dl class="govuk-summary-list">
    <div class="govuk-summary-list__row">
      <dd class="govuk-summary-list__key">
        Account state
      </dd>
      <dd class="govuk-summary-list__value">
        <p class="govuk-body-m" id="status">
          {% if content.user.active %}
            <strong class="govuk-tag">Active</strong>
          {% elif content.user.stale %}
            <strong class="govuk-tag govuk-tag--green">Archived</strong>
          {% else %}
            <strong class="govuk-tag govuk-tag--red">Suspended</strong>
          {% endif %}
        </p>
      </dd>
      <dd class="govuk-summary-list__actions">
        <a class="govuk-link" href="#">
          {% if content.user.active %}
            {% set action = "Suspend user" %}
          {% elif content.user.stale %}
            {% set action = "" %}
          {% else %}
            {% set action = "Activate user" %}
          {% endif %}
          {{ action }}<span class="govuk-visually-hidden">status</span>
        </a>
      </dd>
    </div>
    <div class="govuk-summary-list__row">
      <dd class="govuk-summary-list__key">
        User ID
      </dd>
      <dd class="govuk-summary-list__value">
        <p class="govuk-body-m" id="user-id">
          {{ content.user.id }}
        </p>
      </dd>
      <dd class="govuk-summary-list__actions">
        <a class="govuk-link" href="#">
          <span class="govuk-visually-hidden">id</span>
        </a>
      </dd>
    </div>
    <div class="govuk-summary-list__row">
      <dd class="govuk-summary-list__key">
        Email
      </dd>
      <dd class="govuk-summary-list__value">
        <p class="govuk-body-m" id="email">
          {{ content.user.email }}
        </p>
      </dd>
      <dd class="govuk-summary-list__actions">
        <a class="govuk-link" href="#">
          <span class="govuk-visually-hidden">email</span>
        </a>
      </dd>
    </div>
    <div class="govuk-summary-list__row">
      <dd class="govuk-summary-list__key">
        First name
      </dd>
      <dd class="govuk-summary-list__value">
        <p class="govuk-body-m" id="first-name">
          {{ content.user.forename }}
        </p>
      </dd>
      <dd class="govuk-summary-list__actions">
        <a class="govuk-link" href="#">
          Change<span class="govuk-visually-hidden">forename</span>
        </a>
      </dd>
    </div>
    <div class="govuk-summary-list__row">
      <dd class="govuk-summary-list__key">
        Last name
      </dd>
      <dd class="govuk-summary-list__value">
        <p class="govuk-body-m" id="last-name">
          {{ content.user.surname }}
        </p>
      </dd>
      <dd class="govuk-summary-list__actions">
        <a class="govuk-link" href="#">
          Change<span class="govuk-visually-hidden">surname</span>
        </a>
      </dd>
    </div>
    <div class="govuk-summary-list__row">
      <dd class="govuk-summary-list__key">
        Assigned roles
      </dd>
      <dd class="govuk-summary-list__value">
        <p class="govuk-body-m" id="assigned-roles">
          {% if content.user.roles|length === 1 %}
            {{ content.user.roles }}
          {% else %}
            <ul class="govuk-list">
              {% for role in content.user.roles %}
                <li id="assigned-roles">
                  {{ role }}
                </li>
              {% endfor %}
            </ul>
          {% endif %}
        </p>
      </dd>
      <dd class="govuk-summary-list__actions">
        <a class="govuk-link" href="#">
          Change<span class="govuk-visually-hidden">roles</span>
        </a>
      </dd>
    </div>
    <div class="govuk-summary-list__row">
      <dd class="govuk-summary-list__key">
        Single sign-on provider
      </dd>
      <dd class="govuk-summary-list__value">
        <p class="govuk-body-m" id="sso-provider">
          {{ content.user.ssoProvider }}
        </p>
      </dd>
      <dd class="govuk-summary-list__actions">
        <a class="govuk-link" href="#">
          {% if content.user.ssoProvider is defined and content.user.ssoProvider !== '' %}
            Remove<span class="govuk-visually-hidden">ssoProvider</span>
          {% else %}
            <span class="govuk-visually-hidden">ssoProvider</span>
          {% endif %}
        </a>
      </dd>
    </div>
    <div class="govuk-summary-list__row">
      <dd class="govuk-summary-list__key">
        Single sign-on ID
      </dd>
      <dd class="govuk-summary-list__value">
        <p class="govuk-body-m" id="sso-id">
          {{ content.user.ssoId }}
        </p>
      </dd>
      <dd class="govuk-summary-list__actions">
        <a class="govuk-link" href="#">
          {% if content.user.ssoId is defined and content.user.ssoId !== '' %}
            Remove<span class="govuk-visually-hidden">ssoId</span>
          {% else %}
            <span class="govuk-visually-hidden">ssoId</span>
          {% endif %}
        </a>
      </dd>
    </div>
    <div class="govuk-summary-list__row">
      <dd class="govuk-summary-list__key">
        Account creation date
      </dd>
      <dd class="govuk-summary-list__value">
        <p class="govuk-body-m" id="account-creation-date">
          {{ createDate }}
        </p>
      </dd>
      <dd class="govuk-summary-list__actions">
        <a class="govuk-link" href="#">
          <span class="govuk-visually-hidden">createDate</span>
        </a>
      </dd>
    </div>
    <div class="govuk-summary-list__row">
      <dd class="govuk-summary-list__key">
        Last modified date
      </dd>
      <dd class="govuk-summary-list__value">
        <p class="govuk-body-m" id="last-modified">
          {{ lastModified }}
        </p>
      </dd>
      <dd class="govuk-summary-list__actions">
        <a class="govuk-link" href="#">
          <span class="govuk-visually-hidden">lastModified</span>
        </a>
      </dd>
    </div>
  </dl>

  <div class="govuk-button-group">
    {{ govukButton({
      text: "Save"
    }) }}
    <a class="govuk-link" href="/manage-users">Cancel</a>
  </div>
{% endblock %}
